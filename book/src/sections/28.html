<section id='dom'>
  <div class='grid'>
    <div class='text'>
      <h2>
        <a href='#dom' class='anchor'>¶</a>
        А как же <abbr>ДОМ</abbr>?
      </h2>
    </div>
  </div>

  <div class='grid'>
    <div class='text'>
      <p>Тестирование работы с <abbr>ДОМ</abbr>ом опишем в другом файле.</p>
      <p>Нам потребуется <abbr>JSDOM</abbr>, чтобы создать окружение без браузера. Настроим структуру страницы по умолчанию и объявим глобально <i>window</i> и <i>document</i>.</p>
      <p>Затем создадим класс <i>DomController</i>, метод <i>createTable</i> которого будет создавать пустую таблицу. Существование этой таблицы мы и будем проверять. При создании укажем, к какой ноде должен привязываться этот класс.</p>
      <p>Сейчас тест будет красным, так как таблица не создаётся. Приступаем к реализации.</p>
    </div>

    <div class='code'>
<pre><div class='code-filename'>test/dom.js</div><code class='language-js line-numbers'>import {expect} from 'chai'
import jsdom from 'jsdom'

import Game from '../src/Game'

const {JSDOM} = jsdom
const dom = new JSDOM('&lt;html>&lt;body id="root">&lt;/body>&lt;/html>')

global.window = dom.window
global.document = dom.window.document


describe('DOM controller', () => {
  it('Creates empty table', () => {
    const domController = new DomController('#root')

    domController.createTable()

    expect(document.querySelectorAll('table').length).to.equal(1)
  })
})


class DomController {
  constructor(root) {}

  createTable() {}
}</code></pre>
    </div>
  </div>
</section>